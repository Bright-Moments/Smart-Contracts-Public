//SPDX-License-Identifier: MIT
/*@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@              @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@              @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*/
/**
 * @dev: @brougkr
 */
pragma solidity 0.8.19;
import { Ownable } from "@openzeppelin/contracts/access/Ownable.sol";
import { IERC20 } from "@openzeppelin/contracts/token/ERC20/IERC20.sol";
import { VRFV2WrapperConsumerBase } from "@chainlink/contracts/src/v0.8/VRFV2WrapperConsumerBase.sol";
contract ArtistRandomizer is Ownable, VRFV2WrapperConsumerBase
{    
    struct Artist
    {
        string[] PreRandomizedArtistNames;
        uint[] RequestIDs;
        uint _NumGeneratedOrderIDs;
        uint _NumMappedOrderIDs;
        uint _GeneratedArtistIDs;
        uint _NumMappedArtistIDs;
        uint _NumGeneratedArtistNames;
        uint _NumMappedArtistNames;
        uint _NumArtistIDsLimiter;
    }

    struct RequestStatus 
    {
        uint paid;   // amount paid in link
        bool fulfilled; // whether the request has been successfully fulfilled
        uint[] randomWords; // random results
    }

    mapping(uint=>Artist) public Artists;

    uint32 private constant Words = 1;               // Number of random words to request from Chainlink VRF
    uint16 private constant Confirmations = 1;   // Number of confirmations to wait for before updating the request status
    uint public lastRequestId;                // Last request ID
    uint[] public _RandomResults;             // Random Results

    address public _LINK_TOKEN = 0x5947BB275c521040051D82396192181b413227A3; // AVAX
    address public _VRF_COORDINATOR = 0x721DFbc5Cfe53d32ab00A9bdFa605d3b8E1f3f42; // AVAX

    mapping(uint => mapping(uint => bool)) public _ArtistNameMapped;    // [ArtistID][Index] -> IsMapped
    mapping(uint => mapping(uint => bool)) public _OrderIndexMapped;    // [ArtistID][Index] -> IsMapped
    mapping(uint => mapping(uint => uint)) public _NumberOfTimesMapped; // [ArtistID][Index] -> NumberOfTimesMapped

    mapping(uint => RequestStatus) public s_requests; // `RequestID` => `requestStatus`
    mapping(uint => mapping(uint => string)) public PreRandomizedArtistNames;
    mapping(uint => mapping(uint => uint)) public RandomizedOrderIndexes;        
    mapping(uint => mapping(uint => uint)) public RandomizedArtistIDs;
    mapping(uint => mapping(uint => string)) public RandomizedArtistNames;
    
    event ArtistNameMapped();
    event RequestSent(uint requestId, uint32 Words);
    event RequestFulfilled(uint requestId, uint[] randomWords, uint payment);

    constructor() VRFV2WrapperConsumerBase(_LINK_TOKEN, _VRF_COORDINATOR)
    {
        _RandomResults.push(262942266806792940550676085446609206447191655343381669062011715083135); // OrderIDs
        _RandomResults.push(36294226680679294052676085446609206447191655343386169062011715083205); // ArtistIDs
        _RandomResults.push(42266806792950267608544660920644719165534338616662011783505); // Artist Names
        Artists[0]._NumArtistIDsLimiter = 96;
        Artists[1]._NumArtistIDsLimiter = 96;
        Artists[0].PreRandomizedArtistNames.push('Andreas Gysin');
        Artists[0].PreRandomizedArtistNames.push("Aranda / Lasch");
        Artists[0].PreRandomizedArtistNames.push("Florian Zumbrunn");
        Artists[0].PreRandomizedArtistNames.push("Martin Grasser");
        Artists[0].PreRandomizedArtistNames.push("Luke Shannon");
        Artists[0].PreRandomizedArtistNames.push("Sarah Ridgley");
        Artists[0].PreRandomizedArtistNames.push("Anna Carreras");
        Artists[0].PreRandomizedArtistNames.push("Camille and Matthieu");
        Artists[0].PreRandomizedArtistNames.push("Rudxane");
        Artists[0].PreRandomizedArtistNames.push("Maya Man");
        Artists[0].PreRandomizedArtistNames.push("Jeff Davis");
        Artists[0].PreRandomizedArtistNames.push("Harm van den Dorpel");
        Artists[1].PreRandomizedArtistNames.push("Roope Rainisto");
        Artists[1].PreRandomizedArtistNames.push("Richard Nadler");
        Artists[1].PreRandomizedArtistNames.push("Neptunian Glitter Ball");
        Artists[1].PreRandomizedArtistNames.push("Lauren Lee McCarthy");
        Artists[1].PreRandomizedArtistNames.push("Aurece Vettier");
        Artists[1].PreRandomizedArtistNames.push("Obvious");
        Artists[1].PreRandomizedArtistNames.push("Linda Dounia");
    }

    /*----------------
     * VRF FUNCTIONS *
    -----------------*/

    /**
     * @dev Step 1: Requests Random Number From Chainlink VRF For OrderID Randomization
     * @param ArtistID Artist ID
     * @param CallbackGasLimit Callback Gas Limit
     */
    function Step1RequestRandomNumberOrderIDs(uint ArtistID, uint32 CallbackGasLimit) external onlyOwner returns (uint256 requestId)
    {
        requestId = _VRF(ArtistID, CallbackGasLimit);
        return requestId;
    }


    /**
     * @dev Step 2: Seeds A Number Of Random OrderIDs Into The Contract Without Duplicates
     */
    function Step2RandomGenerateOrderIDs(uint ArtistID, uint Amount) external onlyOwner
    {   
        uint _NumGeneratedOrderIDs = Artists[ArtistID]._NumGeneratedOrderIDs;
        uint Range = _NumGeneratedOrderIDs + Amount;
        Artists[ArtistID]._NumGeneratedOrderIDs += Amount;
        for(_NumGeneratedOrderIDs; _NumGeneratedOrderIDs < Range; _NumGeneratedOrderIDs++) 
        {
            uint RandomOrderIndex = (uint(keccak256(abi.encode(_RandomResults[0], _NumGeneratedOrderIDs))) % 1824);
            if(!_OrderIndexMapped[ArtistID][RandomOrderIndex]) 
            { 
                _OrderIndexMapped[ArtistID][RandomOrderIndex] = true;
                RandomizedOrderIndexes[ArtistID][Artists[ArtistID]._NumMappedOrderIDs] = RandomOrderIndex; 
                Artists[ArtistID]._NumMappedOrderIDs++;
            }
        }
    }

    /**
     * @dev Step 3: Request Random Number From Chainlink VRF For ArtistID Randomization
     */
    function Step3RequestRandomNumberArtistIDs(uint ArtistID, uint32 CallbackGasLimit) external onlyOwner returns (uint256 requestId)
    {
        requestId = _VRF(ArtistID, CallbackGasLimit);
        return requestId;
    }


    /**
     * @dev Step 4: Seeds A Number Of Random ArtistIDs Into The Contract
     * (May Need To Be Run Multiple Times Until All Artist IDs Are Seeded)
     */
    function Step4GenerateRandomArtistIDs(uint ArtistID, uint Amount) external onlyOwner
    {
        uint _NumArtistIDsLimiter = Artists[ArtistID]._NumArtistIDsLimiter;
        uint _GeneratedArtistIDs = Artists[ArtistID]._GeneratedArtistIDs;
        uint Range = _GeneratedArtistIDs + Amount;
        Artists[ArtistID]._GeneratedArtistIDs += Amount;
        for(_GeneratedArtistIDs; _GeneratedArtistIDs < Range; _GeneratedArtistIDs++) 
        { 
            uint RandomArtistID = (uint(keccak256(abi.encode(_RandomResults[1], _GeneratedArtistIDs))) % 19);
            if(_NumberOfTimesMapped[ArtistID][RandomArtistID] < _NumArtistIDsLimiter)
            {
                _NumberOfTimesMapped[ArtistID][RandomArtistID]++;
                RandomizedArtistIDs[ArtistID][RandomizedOrderIndexes[ArtistID][Artists[ArtistID]._NumMappedArtistIDs]] = RandomArtistID;
                Artists[ArtistID]._NumMappedArtistIDs += 1;
            }
        }
    }

    /**
     * @dev Requests Random Number From Chainlink VRF For Artist Name Randomization
     */
    function Step5RequestRandomNumberArtistNames(uint ArtistID, uint32 CallbackGasLimit) external onlyOwner returns (uint256 requestId)
    {
        requestId = _VRF(ArtistID, CallbackGasLimit);
        return requestId;
    }

    /**
     * @dev Step 3: Executes Artist Name Mapping
     */
    function Step6ExecuteArtistNameMapping(uint ArtistID, uint Amount) external onlyOwner
    {
        uint _NumArtistsIDLimiter = Artists[ArtistID].PreRandomizedArtistNames.length;
        uint _GeneratedNameIndexes = Artists[ArtistID]._NumGeneratedArtistNames;
        uint Range = _GeneratedNameIndexes + Amount;
        Artists[ArtistID]._NumGeneratedArtistNames += Amount;
        for(_GeneratedNameIndexes; _GeneratedNameIndexes < Range; _GeneratedNameIndexes++)
        {
            uint RandomArtistIndex = (uint(keccak256(abi.encode(_RandomResults[2], _GeneratedNameIndexes))) % _NumArtistsIDLimiter);
            if(!_ArtistNameMapped[ArtistID][RandomArtistIndex])
            {
                _ArtistNameMapped[ArtistID][RandomArtistIndex] = true;
                RandomizedArtistNames[ArtistID][Artists[ArtistID]._NumMappedArtistNames] = Artists[ArtistID].PreRandomizedArtistNames[RandomArtistIndex];
                Artists[ArtistID]._NumMappedArtistNames++;
                emit ArtistNameMapped();
            }
        }
        Artists[ArtistID]._NumGeneratedArtistNames += Amount;
    }

    /**
     * @dev Withdraws ERC20 From Contract
     */
    function ___WithdrawERC20(address ERC20) external onlyOwner
    {
        IERC20 token = IERC20(ERC20);
        token.transfer(msg.sender, token.balanceOf(address(this)));
    }

    /**
     * @dev Views Randomized Order Indexes
     */
    function ViewRandomizedArtistIDs(uint ArtistID, uint Range) public view returns(uint[] memory _RandomizedArtistIDs)
    {
        _RandomizedArtistIDs = new uint[](Range);
        for(uint x; x < Range; x++) { _RandomizedArtistIDs[x] = RandomizedArtistIDs[ArtistID][x]; }
        return _RandomizedArtistIDs;
    }

    /**
     * @dev View Randomized Artist Names
     */
    function ViewRandomizedArtistNames(uint ArtistID) public view returns (string[] memory _RandomizedArtistNames)
    {
        _RandomizedArtistNames = new string[](Artists[ArtistID].PreRandomizedArtistNames.length);
        for(uint x; x < Artists[ArtistID].PreRandomizedArtistNames.length; x++) { _RandomizedArtistNames[x] = RandomizedArtistNames[ArtistID][x]; }
        return _RandomizedArtistNames;
    }

    /**
     * @dev Requests Random Number From Chainlink VRF
     */
    function _VRF(uint ArtistID, uint32 CallbackGasLimit) internal returns (uint requestId)
    {
        requestId = requestRandomness(
            CallbackGasLimit,
            Confirmations,
            Words
        );
        s_requests[requestId] = RequestStatus({
            paid: VRF_V2_WRAPPER.calculateRequestPrice(CallbackGasLimit),
            randomWords: new uint256[](0),
            fulfilled: false
        });
        Artists[ArtistID].RequestIDs.push(requestId);
        lastRequestId = requestId;
        emit RequestSent(requestId, Words);
        return requestId;
    }

    /**
     * @dev VRF Callback Function
     */
    function fulfillRandomWords(uint _requestId, uint[] memory _randomWords) internal override 
    {
        require(s_requests[_requestId].paid > 0, "request not found");
        s_requests[_requestId].fulfilled = true;
        s_requests[_requestId].randomWords = _randomWords;
        _RandomResults.push(_randomWords[0]);
        emit RequestFulfilled(_requestId, _randomWords, s_requests[_requestId].paid);
    }
}